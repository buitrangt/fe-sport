"use strict";(self.webpackChunkedusports_frontend=self.webpackChunkedusports_frontend||[]).push([[291],{291:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var s=a(5043),n=a(2907),r=a(1701),i=a(3797);const o=(0,i.A)("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);var l=a(2543);const d=(0,i.A)("Bug",[["rect",{width:"8",height:"14",x:"8",y:"6",rx:"4",key:"hq8nra"}],["path",{d:"m19 7-3 2",key:"fmg8ec"}],["path",{d:"m5 7 3 2",key:"dkxqes"}],["path",{d:"m19 19-3-2",key:"1hbhi4"}],["path",{d:"m5 19 3-2",key:"dvt2ee"}],["path",{d:"M20 13h-4",key:"1agfp2"}],["path",{d:"M4 13h4",key:"1bwh8b"}],["path",{d:"m10 4 1 2",key:"1pot59"}],["path",{d:"m14 4-1 2",key:"m8sn0o"}]]);var c=a(2380),x=a(9256),m=a(1490),p=a(4082),u=a(8112),h=a(2938),g=a(8296),b=a(8775),y=a(6787),j=a(6339),f=a(407),v=a(9144),N=a(8),w=a(579);const T=e=>{let{isOpen:t,onClose:a,onSuccess:r}=e;const[i,o]=(0,s.useState)({name:"",description:"",sportType:"FOOTBALL",maxTeams:16,startDate:"",endDate:"",registrationDeadline:"",location:"",rules:"",prizeInfo:"",contactInfo:""}),[l,d]=(0,s.useState)(!1),[c,x]=(0,s.useState)(""),[m,p]=(0,s.useState)(!1),[u,h]=(0,s.useState)(null),g=(0,n.useQueryClient)(),b=(0,n.useMutation)(f.TD.createTournament,{onSuccess:e=>{console.log("\u2705 Tournament created:",e),h((null===e||void 0===e?void 0:e.id)||"Unknown"),p(!0),d(!1)},onError:e=>{console.error("\u274c Creation failed:",e),x(e.message||"Failed to create tournament"),d(!1)}}),y=e=>{const{name:t,value:a}=e.target;o((e=>(0,N.A)((0,N.A)({},e),{},{[t]:a})))},j=()=>{o({name:"",description:"",sportType:"FOOTBALL",maxTeams:16,startDate:"",endDate:"",registrationDeadline:"",location:"",rules:"",prizeInfo:"",contactInfo:""}),x(""),p(!1),h(null),d(!1),a&&a()},v=()=>{g.invalidateQueries("tournaments").catch((()=>{})),r&&r({id:u}),j()};return t?m?(0,w.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:(0,w.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"24px",maxWidth:"400px",width:"100%",textAlign:"center"},children:[(0,w.jsx)("div",{style:{color:"#10b981",fontSize:"24px",marginBottom:"16px"},children:"\u2705"}),(0,w.jsx)("h3",{style:{color:"#1f2937",marginBottom:"8px",fontSize:"18px"},children:"Tournament Created Successfully!"}),(0,w.jsxs)("p",{style:{color:"#6b7280",marginBottom:"16px",fontSize:"14px"},children:["Tournament ID: #",u]}),(0,w.jsx)("button",{onClick:v,style:{backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",padding:"8px 16px",fontSize:"14px",cursor:"pointer"},children:"Back to Admin Panel"})]})}):(0,w.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px",overflow:"auto"},children:(0,w.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto"},children:[(0,w.jsxs)("div",{style:{padding:"20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,w.jsx)("h2",{style:{margin:0,color:"#1f2937",fontSize:"20px"},children:"Create Tournament"}),(0,w.jsx)("button",{onClick:j,disabled:l,style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#6b7280"},children:"\xd7"})]}),c&&(0,w.jsxs)("div",{style:{padding:"16px 20px",backgroundColor:"#fef2f2",borderBottom:"1px solid #fecaca",color:"#dc2626",fontSize:"14px"},children:["\u274c ",c]}),(0,w.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!l){d(!0),x("");try{if(!i.name||!i.description||!i.location||!i.contactInfo)return x("Please fill all required fields"),void d(!1);if(!i.startDate||!i.endDate||!i.registrationDeadline)return x("Please select all dates"),void d(!1);const e=e=>{const t=new Date(e);return[t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()]},t={name:i.name.trim(),description:i.description.trim(),sportType:i.sportType,maxTeams:parseInt(i.maxTeams),startDate:e(i.startDate),endDate:e(i.endDate),registrationDeadline:e(i.registrationDeadline),location:i.location.trim(),rules:i.rules.trim(),prizeInfo:i.prizeInfo.trim(),contactInfo:i.contactInfo.trim()};console.log("\ud83d\udce4 Sending data:",t),await b.mutateAsync(t)}catch(t){console.error("\ud83d\udca5 Submit error:",t),x(t.message||"Submission failed"),d(!1)}}},style:{padding:"20px"},children:[(0,w.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,w.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Tournament Name *"}),(0,w.jsx)("input",{type:"text",name:"name",value:i.name,onChange:y,disabled:l,required:!0,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"},placeholder:"Enter tournament name"})]}),(0,w.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,w.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Description *"}),(0,w.jsx)("textarea",{name:"description",value:i.description,onChange:y,disabled:l,required:!0,rows:3,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box",resize:"vertical"},placeholder:"Describe the tournament"})]}),(0,w.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Sport Type *"}),(0,w.jsxs)("select",{name:"sportType",value:i.sportType,onChange:y,disabled:l,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"},children:[(0,w.jsx)("option",{value:"FOOTBALL",children:"Football"}),(0,w.jsx)("option",{value:"BASKETBALL",children:"Basketball"}),(0,w.jsx)("option",{value:"VOLLEYBALL",children:"Volleyball"}),(0,w.jsx)("option",{value:"BADMINTON",children:"Badminton"}),(0,w.jsx)("option",{value:"TENNIS",children:"Tennis"}),(0,w.jsx)("option",{value:"PING_PONG",children:"Ping Pong"}),(0,w.jsx)("option",{value:"GENERAL",children:"General"})]})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Max Teams *"}),(0,w.jsxs)("select",{name:"maxTeams",value:i.maxTeams,onChange:y,disabled:l,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"},children:[(0,w.jsx)("option",{value:4,children:"4 teams"}),(0,w.jsx)("option",{value:8,children:"8 teams"}),(0,w.jsx)("option",{value:16,children:"16 teams"}),(0,w.jsx)("option",{value:32,children:"32 teams"}),(0,w.jsx)("option",{value:64,children:"64 teams"})]})]})]}),(0,w.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px",marginBottom:"16px"},children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Start Date *"}),(0,w.jsx)("input",{type:"datetime-local",name:"startDate",value:i.startDate,onChange:y,disabled:l,required:!0,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"End Date *"}),(0,w.jsx)("input",{type:"datetime-local",name:"endDate",value:i.endDate,onChange:y,disabled:l,required:!0,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Registration Deadline *"}),(0,w.jsx)("input",{type:"datetime-local",name:"registrationDeadline",value:i.registrationDeadline,onChange:y,disabled:l,required:!0,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]})]}),(0,w.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,w.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Location *"}),(0,w.jsx)("input",{type:"text",name:"location",value:i.location,onChange:y,disabled:l,required:!0,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"},placeholder:"Tournament location"})]}),(0,w.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,w.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Contact Info *"}),(0,w.jsx)("input",{type:"text",name:"contactInfo",value:i.contactInfo,onChange:y,disabled:l,required:!0,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"},placeholder:"Email or phone number"})]}),(0,w.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Tournament Rules"}),(0,w.jsx)("textarea",{name:"rules",value:i.rules,onChange:y,disabled:l,rows:3,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box",resize:"vertical"},placeholder:"Tournament rules and regulations"})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"14px",fontWeight:"500"},children:"Prize Information"}),(0,w.jsx)("textarea",{name:"prizeInfo",value:i.prizeInfo,onChange:y,disabled:l,rows:3,style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box",resize:"vertical"},placeholder:"Prize details and rewards"})]})]}),(0,w.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[(0,w.jsx)("button",{type:"button",onClick:j,disabled:l,style:{padding:"8px 16px",border:"1px solid #d1d5db",borderRadius:"6px",backgroundColor:"white",color:"#374151",fontSize:"14px",cursor:"pointer"},children:"Cancel"}),(0,w.jsx)("button",{type:"submit",disabled:l,style:{padding:"8px 16px",border:"none",borderRadius:"6px",backgroundColor:l?"#9ca3af":"#3b82f6",color:"white",fontSize:"14px",cursor:l?"not-allowed":"pointer"},children:l?"Creating...":"Create Tournament"})]})]})]})}):null};var S=a(2915);const k=()=>{const[e,t]=(0,s.useState)(!1),[a,n]=(0,s.useState)([]),r=(e,t,a,s)=>{const r={test:e,success:t,data:a,error:(null===s||void 0===s?void 0:s.message)||s,timestamp:(new Date).toLocaleTimeString()};n((e=>[r,...e.slice(0,9)]))};return(0,w.jsxs)("div",{className:"fixed bottom-4 right-4 bg-white border-2 border-blue-500 rounded-lg shadow-lg p-4 max-w-md z-50",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,w.jsx)("h3",{className:"text-lg font-bold text-blue-600",children:"\ud83d\udd27 Tournament Debug Panel"}),(0,w.jsx)("button",{onClick:()=>n([]),className:"text-xs text-gray-500 hover:text-red-500",children:"Clear"})]}),(0,w.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,w.jsx)("button",{onClick:()=>{const e=localStorage.getItem("accessToken");r("Auth Token Check",!!e,e?"Token exists":"No token found")},className:"w-full text-left px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 rounded",disabled:e,children:"Check Auth Token"}),(0,w.jsx)("button",{onClick:async()=>{t(!0);try{const e=await(0,S.rN)();r("API Connection",!0,e),console.log("\u2705 API connection successful!")}catch(e){r("API Connection",!1,null,e),console.error("\u274c API connection failed!",e)}finally{t(!1)}},className:"w-full text-left px-3 py-2 text-sm bg-blue-100 hover:bg-blue-200 rounded",disabled:e,children:"Test API Connection"}),(0,w.jsx)("button",{onClick:async()=>{t(!0);try{const e=await f.TD.getAllTournaments({page:1,limit:5});r("Get Tournaments",!0,e),console.log("\u2705 Get tournaments test successful!")}catch(e){r("Get Tournaments",!1,null,e),console.error("\u274c Get tournaments test failed!",e)}finally{t(!1)}},className:"w-full text-left px-3 py-2 text-sm bg-green-100 hover:bg-green-200 rounded",disabled:e,children:"Test Get Tournaments"}),(0,w.jsx)("button",{onClick:async()=>{t(!0);const e={name:"Test Tournament "+Date.now(),description:"This is a test tournament",sportType:"FOOTBALL",maxTeams:8,startDate:new Date(Date.now()+864e5).toISOString(),endDate:new Date(Date.now()+6048e5).toISOString(),registrationDeadline:new Date(Date.now()+432e5).toISOString(),location:"Test Location",contactInfo:"test@example.com"};try{const t=await f.TD.createTournament(e);r("Create Tournament",!0,t),console.log("\u2705 Tournament creation test successful!")}catch(a){r("Create Tournament",!1,null,a),console.error("\u274c Tournament creation test failed!",a)}finally{t(!1)}},className:"w-full text-left px-3 py-2 text-sm bg-orange-100 hover:bg-orange-200 rounded",disabled:e,children:"Test Create Tournament"})]}),e&&(0,w.jsxs)("div",{className:"text-center py-2",children:[(0,w.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mx-auto"}),(0,w.jsx)("span",{className:"text-xs text-gray-500",children:"Testing..."})]}),(0,w.jsxs)("div",{className:"max-h-40 overflow-y-auto",children:[(0,w.jsx)("h4",{className:"text-sm font-semibold mb-2",children:"Test Results:"}),0===a.length?(0,w.jsx)("p",{className:"text-xs text-gray-500",children:"No tests run yet"}):a.map(((e,t)=>(0,w.jsxs)("div",{className:"text-xs p-2 mb-1 rounded ".concat(e.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[(0,w.jsxs)("div",{className:"flex justify-between items-center",children:[(0,w.jsxs)("span",{className:"font-medium",children:[e.success?"\u2705":"\u274c"," ",e.test]}),(0,w.jsx)("span",{className:"text-gray-400",children:e.timestamp})]}),e.error&&(0,w.jsxs)("div",{className:"text-red-600 mt-1",children:["Error: ",e.error]}),e.data&&"string"===typeof e.data&&(0,w.jsx)("div",{className:"text-gray-600 mt-1 truncate",children:e.data})]},t)))]})]})};var C=a(5955),A=a(6543);const D=()=>{const[e,t]=(0,s.useState)(""),[a,i]=(0,s.useState)(""),[N,S]=(0,s.useState)(1),[D,I]=(0,s.useState)(!1),[z,P]=(0,s.useState)(!1),[R,B]=(0,s.useState)([]),O=(0,n.useQueryClient)(),E=(e,t)=>{console.log("".concat(e.toUpperCase(),": ").concat(t));const a={id:Date.now(),type:e,message:t};B((e=>[...e,a])),setTimeout((()=>{B((e=>e.filter((e=>e.id!==a.id))))}),3e3),"error"===e&&alert("\u274c ".concat(t))},{data:L,isLoading:M,error:G}=(0,n.useQuery)([A.es.TOURNAMENTS,{page:N,searchTerm:e,status:a}],(()=>f.TD.getAllTournaments({page:N,limit:10,search:e,status:a})),{staleTime:3e5,keepPreviousData:!0,select:e=>(console.log("\ud83d\udd0d [TournamentManagement] Raw API response:",e),e&&e.data&&Array.isArray(e.data)?{data:e.data,pagination:e.pagination||{currentPage:e.page||N,totalPages:e.totalPages||1,totalItems:e.total||e.data.length,hasNext:(e.page||N)<(e.totalPages||1),hasPrev:(e.page||N)>1}}:Array.isArray(e)?{data:e,pagination:{currentPage:N,totalPages:1,totalItems:e.length,hasNext:!1,hasPrev:!1}}:e&&e.success&&e.data&&Array.isArray(e.data)?{data:e.data,pagination:{currentPage:N,totalPages:1,totalItems:e.data.length,hasNext:!1,hasPrev:!1}}:(console.warn("\u26a0\ufe0f [TournamentManagement] Unexpected response format, returning empty state"),{data:[],pagination:{currentPage:N,totalPages:1,totalItems:0,hasNext:!1,hasPrev:!1}})),onError:e=>{console.error("\u274c [TournamentManagement] Query error:",e)}}),W=(0,n.useMutation)((e=>f.TD.deleteTournament(e)),{onSuccess:()=>{E("success","X\xf3a gi\u1ea3i \u0111\u1ea5u th\xe0nh c\xf4ng"),O.invalidateQueries(A.es.TOURNAMENTS)},onError:e=>{var t,a;E("error",(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Failed to delete tournament")}}),q=(0,n.useMutation)((e=>f.TD.startTournament(e)),{onSuccess:()=>{E("success","B\u1eaft \u0111\u1ea7u gi\u1ea3i \u0111\u1ea5u th\xe0nh c\xf4ng"),O.invalidateQueries(A.es.TOURNAMENTS)},onError:e=>{var t,a;E("error",(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Failed to start tournament")}}),F=e=>{switch(e.status){case"REGISTRATION":case"REGISTRATION_OPEN":return(0,w.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n b\u1eaft \u0111\u1ea7u gi\u1ea3i \u0111\u1ea5u n\xe0y?")&&q.mutate(t));var t},className:"text-gray-600 hover:text-green-600 transition-colors",title:"Start Tournament",disabled:q.isLoading,children:(0,w.jsx)(r.A,{className:"h-4 w-4"})});case"ONGOING":case"IN_PROGRESS":return(0,w.jsx)("button",{className:"text-gray-600 hover:text-yellow-600 transition-colors",title:"Pause Tournament",children:(0,w.jsx)(o,{className:"h-4 w-4"})});default:return null}};if(G)return console.error("\ud83d\udeab [TournamentManagement] Component error:",G),(0,w.jsxs)("div",{className:"text-center py-8",children:[(0,w.jsx)(l.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,w.jsxs)("p",{className:"text-red-600 mb-4",children:["Error loading tournaments: ",G.message]}),(0,w.jsx)("button",{onClick:()=>O.invalidateQueries(A.es.TOURNAMENTS),className:"btn-primary",children:"Retry"})]});const _=(null===L||void 0===L?void 0:L.data)||[],Q=(null===L||void 0===L?void 0:L.pagination)||{currentPage:N,totalPages:1,totalItems:0,hasNext:!1,hasPrev:!1};return console.log("\ud83d\udcca [TournamentManagement] Render data:",{tournamentData:_,pagination:Q,isArray:Array.isArray(_),length:_.length}),(0,w.jsxs)("div",{className:"space-y-6",children:[R.length>0&&(0,w.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:R.map((e=>(0,w.jsx)("div",{className:"px-4 py-3 rounded-md shadow-lg ".concat("success"===e.type?"bg-green-100 border border-green-200 text-green-800":"bg-red-100 border border-red-200 text-red-800"),children:(0,w.jsx)("div",{className:"flex items-center",children:(0,w.jsxs)("span",{className:"text-sm font-medium",children:["success"===e.type?"\u2713":"\u274c"," ",e.message]})})},e.id)))}),(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Tournament Management"}),(0,w.jsx)("p",{className:"text-gray-600",children:"Create and manage tournaments, scheduling, and results"})]}),(0,w.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,w.jsxs)("div",{className:"bg-orange-100 text-orange-800 px-3 py-1 rounded-full text-sm font-medium",children:[Q.totalItems," Tournaments"]}),(0,w.jsx)("button",{onClick:()=>P(!z),className:"btn-secondary",title:"Toggle Debug Panel",children:(0,w.jsx)(d,{className:"h-4 w-4"})}),(0,w.jsxs)("button",{onClick:()=>I(!0),className:"btn-primary",children:[(0,w.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Create Tournament"]})]})]}),(0,w.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,w.jsxs)("form",{onSubmit:e=>{e.preventDefault(),S(1)},className:"flex flex-col md:flex-row gap-4",children:[(0,w.jsx)("div",{className:"flex-1",children:(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,w.jsx)("input",{type:"text",placeholder:"Search tournaments by name...",value:e,onChange:e=>t(e.target.value),className:"pl-10 input-field"})]})}),(0,w.jsxs)("div",{className:"flex gap-4",children:[(0,w.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"input-field min-w-[150px]",children:[(0,w.jsx)("option",{value:"",children:"All Status"}),(0,w.jsx)("option",{value:"DRAFT",children:"Draft"}),(0,w.jsx)("option",{value:"REGISTRATION",children:"Registration"}),(0,w.jsx)("option",{value:"REGISTRATION_OPEN",children:"Registration Open"}),(0,w.jsx)("option",{value:"REGISTRATION_CLOSED",children:"Registration Closed"}),(0,w.jsx)("option",{value:"ONGOING",children:"Ongoing"}),(0,w.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,w.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,w.jsx)("option",{value:"CANCELLED",children:"Cancelled"})]}),(0,w.jsxs)("button",{type:"submit",className:"btn-primary whitespace-nowrap",children:[(0,w.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Apply"]})]})]})}),z&&(0,w.jsxs)("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4",children:[(0,w.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"\ud83d\udc1b Debug Information"}),(0,w.jsx)("pre",{className:"text-xs text-gray-600 whitespace-pre-wrap",children:JSON.stringify({tournaments:L,tournamentData:_,pagination:Q,isArray:Array.isArray(_),length:_.length,searchTerm:e,statusFilter:a,page:N},null,2)})]}),(0,w.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[M?(0,w.jsx)("div",{className:"p-8 text-center",children:(0,w.jsx)(v.A,{})}):Array.isArray(_)?0===_.length?(0,w.jsxs)("div",{className:"p-8 text-center",children:[(0,w.jsx)(p.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,w.jsx)("p",{className:"text-gray-600",children:"No tournaments found"}),(0,w.jsxs)("button",{onClick:()=>I(!0),className:"mt-4 btn-primary",children:[(0,w.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Create Your First Tournament"]})]}):(0,w.jsx)("div",{className:"overflow-x-auto",children:(0,w.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,w.jsx)("thead",{className:"bg-gray-50",children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tournament"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teams"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schedule"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,w.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,w.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map((e=>(0,w.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsxs)("div",{className:"flex items-center",children:[(0,w.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,w.jsx)("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center",children:(0,w.jsx)(p.A,{className:"h-5 w-5 text-orange-600"})})}),(0,w.jsxs)("div",{className:"ml-4",children:[(0,w.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,w.jsx)("div",{className:"text-sm text-gray-500",children:(0,C.z6)(e.sportType)||"T\u1ed5ng h\u1ee3p"})]})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat((0,C.qY)(e.status)),children:(0,C.Ws)(e.status)})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-900",children:[(0,w.jsx)(u.A,{className:"h-4 w-4 text-gray-400"}),(0,w.jsxs)("span",{children:[e.currentTeams||0,"/",e.maxTeams]})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsxs)("div",{className:"text-sm text-gray-900",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,w.jsx)(h.A,{className:"h-4 w-4 text-gray-400"}),(0,w.jsx)("span",{children:(0,C.Yq)(e.startDate)})]}),e.endDate&&(0,w.jsxs)("div",{className:"text-xs text-gray-500",children:["Until ",(0,C.Yq)(e.endDate)]})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,w.jsx)(g.A,{className:"h-4 w-4"}),(0,w.jsx)("span",{className:"truncate max-w-24",title:e.location,children:e.location||"TBD"})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,w.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,w.jsx)("button",{onClick:()=>window.open("/tournaments/".concat(e.id),"_blank"),className:"text-gray-600 hover:text-primary-600 transition-colors",title:"View Tournament",children:(0,w.jsx)(b.A,{className:"h-4 w-4"})}),(0,w.jsx)("button",{onClick:()=>window.open("/admin/tournaments/".concat(e.id,"/edit"),"_blank"),className:"text-gray-600 hover:text-blue-600 transition-colors",title:"Edit Tournament",children:(0,w.jsx)(y.A,{className:"h-4 w-4"})}),F(e),(0,w.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a gi\u1ea3i \u0111\u1ea5u n\xe0y? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c.")&&W.mutate(t));var t},className:"text-gray-600 hover:text-red-600 transition-colors",title:"Delete Tournament",disabled:W.isLoading,children:(0,w.jsx)(j.A,{className:"h-4 w-4"})})]})})]},e.id)))})]})}):(0,w.jsxs)("div",{className:"p-8 text-center",children:[(0,w.jsx)(l.A,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),(0,w.jsx)("p",{className:"text-red-600 mb-2",children:"Data format error: tournaments data is not an array"}),(0,w.jsxs)("p",{className:"text-sm text-gray-500",children:["Expected: Array, Received: ",typeof _]}),(0,w.jsx)("button",{onClick:()=>P(!0),className:"mt-4 btn-secondary",children:"Show Debug Info"})]}),Q.totalPages>1&&(0,w.jsx)("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing page ",Q.currentPage," of ",Q.totalPages]}),(0,w.jsxs)("div",{className:"flex space-x-2",children:[(0,w.jsx)("button",{onClick:()=>S(N-1),disabled:!Q.hasPrev,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,w.jsx)("button",{onClick:()=>S(N+1),disabled:!Q.hasNext,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),(0,w.jsx)(T,{isOpen:D,onClose:()=>I(!1),onSuccess:e=>{console.log("Tournament created successfully:",e),O.invalidateQueries(A.es.TOURNAMENTS)}}),z&&(0,w.jsx)(k,{})]})}},6339:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(3797).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=291.0f114f4c.chunk.js.map