"use strict";(self.webpackChunkedusports_frontend=self.webpackChunkedusports_frontend||[]).push([[3],{6339:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(3797).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7003:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(5043),r=a(2907),n=a(3458),l=a(1701),i=a(917),c=a(2543),d=a(2380),o=a(9256),m=a(1490),x=a(2938),u=a(8296),h=a(8775),p=a(6787),g=a(6339),N=a(407),j=a(9144),y=a(5955),v=a(2339),w=a(579);const f=()=>{var e,t,a,f;const[b,C]=(0,s.useState)(""),[S,E]=(0,s.useState)(""),[A,D]=(0,s.useState)(""),[k,T]=(0,s.useState)(1),F=(0,r.useQueryClient)(),{data:L}=(0,r.useQuery)("tournaments-for-filter",(()=>N.TD.getAllTournaments({page:1,limit:100})),{select:e=>(null===e||void 0===e?void 0:e.data)||[],staleTime:6e5}),{data:M,isLoading:P,error:R}=(0,r.useQuery)(["admin-matches",{page:k,searchTerm:b,status:S,tournament:A}],(async()=>{await new Promise((e=>setTimeout(e,1e3)));let e=[{id:1,tournament:{id:1,name:"Spring Championship"},team1:{id:1,name:"Team Alpha",teamColor:"#FF0000"},team2:{id:2,name:"Team Beta",teamColor:"#0000FF"},roundNumber:1,roundName:"Quarter Finals",matchDate:new Date("2025-06-01T15:00:00"),location:"Main Stadium",status:"SCHEDULED",team1Score:0,team2Score:0,referee:"John Referee"},{id:2,tournament:{id:1,name:"Spring Championship"},team1:{id:3,name:"Team Gamma",teamColor:"#00FF00"},team2:{id:4,name:"Team Delta",teamColor:"#FFFF00"},roundNumber:1,roundName:"Quarter Finals",matchDate:new Date("2025-06-01T17:00:00"),location:"Secondary Field",status:"IN_PROGRESS",team1Score:2,team2Score:1,referee:"Jane Referee"},{id:3,tournament:{id:2,name:"Summer League"},team1:{id:5,name:"Team Echo",teamColor:"#FF00FF"},team2:{id:6,name:"Team Foxtrot",teamColor:"#00FFFF"},roundNumber:2,roundName:"Semi Finals",matchDate:new Date("2025-05-30T14:00:00"),location:"Training Ground",status:"COMPLETED",team1Score:3,team2Score:2,referee:"Bob Referee"}];return A&&(e=e.filter((e=>e.tournament.id.toString()===A))),S&&(e=e.filter((e=>e.status===S))),b&&(e=e.filter((e=>e.team1.name.toLowerCase().includes(b.toLowerCase())||e.team2.name.toLowerCase().includes(b.toLowerCase())||e.tournament.name.toLowerCase().includes(b.toLowerCase())))),{data:e,pagination:{currentPage:k,totalPages:Math.ceil(e.length/10),totalItems:e.length,hasNext:k<Math.ceil(e.length/10),hasPrev:k>1}}}),{staleTime:12e4,keepPreviousData:!0}),I=(0,r.useMutation)((async e=>{let{matchId:t,updateData:a}=e;return await new Promise((e=>setTimeout(e,1e3))),{success:!0}}),{onSuccess:()=>{v.Ay.success("Match updated successfully"),F.invalidateQueries("admin-matches")},onError:()=>{v.Ay.error("Failed to update match")}}),O=(0,r.useMutation)((async e=>(await new Promise((e=>setTimeout(e,1e3))),{success:!0})),{onSuccess:()=>{v.Ay.success("Match deleted successfully"),F.invalidateQueries("admin-matches")},onError:()=>{v.Ay.error("Failed to delete match")}}),_=(e,t)=>{I.mutate({matchId:e,updateData:{status:t}})},G=e=>{switch(e){case"SCHEDULED":return(0,w.jsx)(n.A,{className:"h-4 w-4 text-blue-500"});case"IN_PROGRESS":return(0,w.jsx)(l.A,{className:"h-4 w-4 text-green-500"});case"COMPLETED":return(0,w.jsx)(i.A,{className:"h-4 w-4 text-gray-500"});case"CANCELLED":return(0,w.jsx)(c.A,{className:"h-4 w-4 text-red-500"});default:return(0,w.jsx)(n.A,{className:"h-4 w-4 text-gray-400"})}},Q=e=>{const t="px-2 py-1 rounded-full text-xs font-medium";switch(e){case"SCHEDULED":return"".concat(t," bg-blue-100 text-blue-800");case"IN_PROGRESS":return"".concat(t," bg-green-100 text-green-800");case"COMPLETED":default:return"".concat(t," bg-gray-100 text-gray-800");case"CANCELLED":return"".concat(t," bg-red-100 text-red-800")}},H=e=>{switch(e.status){case"SCHEDULED":return(0,w.jsx)("button",{onClick:()=>_(e.id,"IN_PROGRESS"),className:"text-gray-600 hover:text-green-600 transition-colors",title:"Start Match",children:(0,w.jsx)(l.A,{className:"h-4 w-4"})});case"IN_PROGRESS":return(0,w.jsx)("button",{onClick:()=>_(e.id,"COMPLETED"),className:"text-gray-600 hover:text-blue-600 transition-colors",title:"Complete Match",children:(0,w.jsx)(i.A,{className:"h-4 w-4"})});default:return null}};return R?(0,w.jsxs)("div",{className:"text-center py-8",children:[(0,w.jsx)(c.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,w.jsx)("p",{className:"text-red-600",children:"Error loading matches. Please try again later."})]}):(0,w.jsxs)("div",{className:"space-y-6",children:[(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Match Management"}),(0,w.jsx)("p",{className:"text-gray-600",children:"Schedule matches, update scores, and manage game results"})]}),(0,w.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,w.jsxs)("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:[(null===M||void 0===M||null===(e=M.pagination)||void 0===e?void 0:e.totalItems)||0," Matches"]}),(0,w.jsxs)("button",{className:"btn-primary",children:[(0,w.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Schedule Match"]})]})]}),(0,w.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,w.jsxs)("form",{onSubmit:e=>{e.preventDefault(),T(1)},className:"flex flex-col md:flex-row gap-4",children:[(0,w.jsx)("div",{className:"flex-1",children:(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,w.jsx)("input",{type:"text",placeholder:"Search matches by team or tournament...",value:b,onChange:e=>C(e.target.value),className:"pl-10 input-field"})]})}),(0,w.jsxs)("div",{className:"flex gap-4",children:[(0,w.jsxs)("select",{value:A,onChange:e=>D(e.target.value),className:"input-field min-w-[150px]",children:[(0,w.jsx)("option",{value:"",children:"All Tournaments"}),null===L||void 0===L?void 0:L.map((e=>(0,w.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,w.jsxs)("select",{value:S,onChange:e=>E(e.target.value),className:"input-field min-w-[150px]",children:[(0,w.jsx)("option",{value:"",children:"All Status"}),(0,w.jsx)("option",{value:"SCHEDULED",children:"Scheduled"}),(0,w.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,w.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,w.jsx)("option",{value:"CANCELLED",children:"Cancelled"})]}),(0,w.jsxs)("button",{type:"submit",className:"btn-primary whitespace-nowrap",children:[(0,w.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Apply"]})]})]})}),(0,w.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[P?(0,w.jsx)("div",{className:"p-8 text-center",children:(0,w.jsx)(j.A,{})}):0===(null===M||void 0===M||null===(t=M.data)||void 0===t?void 0:t.length)?(0,w.jsxs)("div",{className:"p-8 text-center",children:[(0,w.jsx)(x.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,w.jsx)("p",{className:"text-gray-600",children:"No matches found"})]}):(0,w.jsx)("div",{className:"overflow-x-auto",children:(0,w.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,w.jsx)("thead",{className:"bg-gray-50",children:(0,w.jsxs)("tr",{children:[(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Match"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teams"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,w.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Schedule"}),(0,w.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,w.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null===M||void 0===M||null===(a=M.data)||void 0===a?void 0:a.map((e=>(0,w.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.tournament.name}),(0,w.jsxs)("div",{className:"text-sm text-gray-500",children:[e.roundName," - Round ",e.roundNumber]})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsxs)("div",{className:"space-y-1",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.team1.teamColor}}),(0,w.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.team1.name})]}),(0,w.jsx)("div",{className:"text-xs text-gray-400",children:"vs"}),(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,w.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.team2.teamColor}}),(0,w.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.team2.name})]})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsxs)("div",{className:"text-sm font-mono text-gray-900",children:[e.team1Score," - ",e.team2Score]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsxs)("div",{className:"flex items-center space-x-2",children:[G(e.status),(0,w.jsx)("span",{className:Q(e.status),children:e.status.replace("_"," ")})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,w.jsxs)("div",{className:"text-sm text-gray-900",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,w.jsx)(x.A,{className:"h-4 w-4 text-gray-400"}),(0,w.jsx)("span",{children:(0,y.Yq)(e.matchDate)})]}),(0,w.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[(0,w.jsx)(u.A,{className:"h-3 w-3"}),(0,w.jsx)("span",{children:e.location})]})]})}),(0,w.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,w.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,w.jsx)("button",{onClick:()=>window.open("/matches/".concat(e.id),"_blank"),className:"text-gray-600 hover:text-primary-600 transition-colors",title:"View Match",children:(0,w.jsx)(h.A,{className:"h-4 w-4"})}),(0,w.jsx)("button",{onClick:()=>window.open("/admin/matches/".concat(e.id,"/edit"),"_blank"),className:"text-gray-600 hover:text-blue-600 transition-colors",title:"Edit Match",children:(0,w.jsx)(p.A,{className:"h-4 w-4"})}),H(e),(0,w.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this match?")&&O.mutate(t));var t},className:"text-gray-600 hover:text-red-600 transition-colors",title:"Delete Match",disabled:O.isLoading,children:(0,w.jsx)(g.A,{className:"h-4 w-4"})})]})})]},e.id)))})]})}),(null===M||void 0===M||null===(f=M.pagination)||void 0===f?void 0:f.totalPages)>1&&(0,w.jsx)("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,w.jsxs)("div",{className:"flex items-center justify-between",children:[(0,w.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing page ",M.pagination.currentPage," of ",M.pagination.totalPages]}),(0,w.jsxs)("div",{className:"flex space-x-2",children:[(0,w.jsx)("button",{onClick:()=>T(k-1),disabled:1===k,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,w.jsx)("button",{onClick:()=>T(k+1),disabled:k>=M.pagination.totalPages,className:"btn-secondary disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]})]})}}}]);
//# sourceMappingURL=3.c0cc4dc7.chunk.js.map