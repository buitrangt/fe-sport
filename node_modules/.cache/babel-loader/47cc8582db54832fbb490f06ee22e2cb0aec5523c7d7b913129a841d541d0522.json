{"ast":null,"code":"var _jsxFileName = \"/Users/Pham13a07/Downloads/fe-sport/src/components/tournament/TournamentBracketGenerator.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Play, Trophy, Users, AlertCircle } from 'lucide-react';\nimport { tournamentKnockoutService } from '../../services';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TournamentBracketGenerator = ({\n  tournament,\n  onBracketGenerated\n}) => {\n  _s();\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [bracketData, setBracketData] = useState({\n    type: 'SINGLE_ELIMINATION',\n    randomize: true\n  });\n  const handleGenerateBracket = async () => {\n    setIsGenerating(true);\n    try {\n      console.log('🚀 Đang tạo nhánh đấu cho giải đấu:', tournament.id);\n      console.log('📊 Dữ liệu nhánh đấu:', bracketData);\n      console.log('👥 Số đội hiện tại:', tournament.currentTeams);\n\n      // Gỡ lỗi: Kiểm tra dữ liệu đội trước khi tạo nhánh đấu\n      try {\n        var _teamsData$data, _teamsData$data2;\n        const teamsResponse = await fetch(`http://localhost:8080/api/tournaments/${tournament.id}/teams`);\n        const teamsData = await teamsResponse.json();\n        console.log('📊 Phản hồi API đội:', teamsData);\n        console.log('📊 Số lượng đội:', (teamsData === null || teamsData === void 0 ? void 0 : (_teamsData$data = teamsData.data) === null || _teamsData$data === void 0 ? void 0 : _teamsData$data.length) || 0);\n        console.log('📊 ID đội:', (teamsData === null || teamsData === void 0 ? void 0 : (_teamsData$data2 = teamsData.data) === null || _teamsData$data2 === void 0 ? void 0 : _teamsData$data2.map(t => ({\n          id: t.id,\n          name: t.name\n        }))) || []);\n      } catch (teamError) {\n        console.error('⚠️ Không thể lấy dữ liệu đội để gỡ lỗi:', teamError);\n      }\n\n      // ĐÃ SỬA: Gửi đúng định dạng yêu cầu\n      const requestData = {\n        shuffleTeams: bracketData.randomize,\n        bracketType: bracketData.type\n      };\n      console.log('📤 [Tạo] Đang gửi yêu cầu:', requestData);\n      const response = await tournamentKnockoutService.generateBracket(tournament.id, requestData);\n      console.log('✅ Tạo nhánh đấu thành công:', response);\n      toast.success('Nhánh đấu giải đấu đã được tạo thành công!');\n      onBracketGenerated === null || onBracketGenerated === void 0 ? void 0 : onBracketGenerated(response.data);\n    } catch (error) {\n      var _error$response, _error$response2, _error$response3, _error$response4, _error$response6, _error$response7, _error$response7$data;\n      console.error('❌ Lỗi tạo nhánh đấu:', error);\n      console.error('📋 Chi tiết lỗi:', {\n        status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n        data: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data,\n        message: error.message,\n        statusText: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.statusText\n      });\n\n      // Xử lý lỗi chi tiết hơn\n      let errorMessage = 'Không thể tạo nhánh đấu';\n      if (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) === 400) {\n        var _error$response5, _error$response5$data;\n        const backendMessage = (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.message;\n        if (backendMessage !== null && backendMessage !== void 0 && backendMessage.includes('Data truncated')) {\n          errorMessage = '🗃️ Lỗi cấu hình cơ sở dữ liệu. Trường trạng thái giải đấu có thể quá ngắn. Vui lòng liên hệ quản trị viên.';\n        } else if (backendMessage !== null && backendMessage !== void 0 && backendMessage.includes('not-null property references a null')) {\n          if (backendMessage.includes('team1') || backendMessage.includes('team2')) {\n            errorMessage = '👥 Lỗi dữ liệu đội. Không thể tạo trận đấu vì việc gán đội là null. Vui lòng kiểm tra xem các đội đã được đăng ký đúng cách và có ID hợp lệ hay không.';\n          } else {\n            errorMessage = `🗃️ Vi phạm ràng buộc cơ sở dữ liệu: ${backendMessage}`;\n          }\n        } else if (backendMessage !== null && backendMessage !== void 0 && backendMessage.includes('not enough teams')) {\n          errorMessage = `⚠️ Không đủ đội để tạo nhánh đấu. Cần ít nhất 2 đội, hiện tại: ${tournament.currentTeams || 0}`;\n        } else if (backendMessage) {\n          errorMessage = backendMessage;\n        } else {\n          errorMessage = 'Dữ liệu giải đấu không hợp lệ. Vui lòng kiểm tra xem giải đấu có đủ đội đã đăng ký hay không.';\n        }\n      } else if (((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.status) === 500) {\n        errorMessage = '🔧 Lỗi máy chủ. Vui lòng kiểm tra nhật ký backend và thử lại.';\n      } else if ((_error$response7 = error.response) !== null && _error$response7 !== void 0 && (_error$response7$data = _error$response7.data) !== null && _error$response7$data !== void 0 && _error$response7$data.message) {\n        errorMessage = error.response.data.message;\n      }\n      toast.error(errorMessage, {\n        duration: 6000,\n        style: {\n          background: '#EF4444',\n          color: 'white',\n          fontSize: '14px',\n          padding: '16px',\n          borderRadius: '8px'\n        }\n      });\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const handleStartKnockout = async () => {\n    try {\n      await tournamentKnockoutService.startKnockout(tournament.id);\n      toast.success('Giải đấu loại trực tiếp đã bắt đầu!');\n      window.location.reload(); // Tải lại để cập nhật trạng thái giải đấu\n    } catch (error) {\n      var _error$response8, _error$response8$data;\n      console.error('Lỗi khi bắt đầu loại trực tiếp:', error);\n      toast.error(((_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : (_error$response8$data = _error$response8.data) === null || _error$response8$data === void 0 ? void 0 : _error$response8$data.message) || 'Không thể bắt đầu giải đấu loại trực tiếp');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-3 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-primary-500 to-sports-purple p-3 rounded-full\",\n        children: /*#__PURE__*/_jsxDEV(Trophy, {\n          className: \"h-6 w-6 text-white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-900\",\n          children: \"Nh\\xE1nh \\u0111\\u1EA5u gi\\u1EA3i \\u0111\\u1EA5u\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"T\\u1EA1o v\\xE0 qu\\u1EA3n l\\xFD nh\\xE1nh \\u0111\\u1EA5u gi\\u1EA3i \\u0111\\u1EA5u\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), (tournament.status === 'REGISTRATION' || tournament.status === 'UPCOMING' || tournament.status === 'READY_TO_START') && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"h-5 w-5 text-blue-600 mt-0.5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-sm font-medium text-blue-900\",\n              children: \"S\\u1EB5n s\\xE0ng t\\u1EA1o nh\\xE1nh \\u0111\\u1EA5u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-blue-700 mt-1\",\n              children: [\"Gi\\u1EA3i \\u0111\\u1EA5u c\\xF3 \", tournament.currentTeams || tournament.registeredTeams || 0, \" \\u0111\\u1ED9i \\u0111\\xE3 \\u0111\\u0103ng k\\xFD. H\\xE3y t\\u1EA1o nh\\xE1nh \\u0111\\u1EA5u \\u0111\\u1EC3 thi\\u1EBFt l\\u1EADp c\\xE1c tr\\u1EADn \\u0111\\u1EA5u.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Lo\\u1EA1i nh\\xE1nh \\u0111\\u1EA5u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: bracketData.type,\n            onChange: e => setBracketData({\n              ...bracketData,\n              type: e.target.value\n            }),\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"SINGLE_ELIMINATION\",\n              children: \"Lo\\u1EA1i tr\\u1EF1c ti\\u1EBFp \\u0111\\u01A1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"DOUBLE_ELIMINATION\",\n              children: \"Lo\\u1EA1i tr\\u1EF1c ti\\u1EBFp k\\xE9p\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: \"randomize\",\n            checked: bracketData.randomize,\n            onChange: e => setBracketData({\n              ...bracketData,\n              randomize: e.target.checked\n            }),\n            className: \"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"randomize\",\n            className: \"text-sm text-gray-700\",\n            children: \"Ng\\u1EABu nhi\\xEAn v\\u1ECB tr\\xED \\u0111\\u1ED9i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-3\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleGenerateBracket,\n            disabled: isGenerating || (tournament.currentTeams || 0) < 2,\n            className: \"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\",\n            children: [isGenerating ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(Play, {\n              className: \"h-4 w-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: isGenerating ? 'Đang tạo...' : 'Tạo nhánh đấu'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this), (tournament.status === 'READY' || tournament.status === 'READY_TO_START') && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-50 border border-green-200 rounded-lg p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(Trophy, {\n            className: \"h-5 w-5 text-green-600 mt-0.5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"text-sm font-medium text-green-900\",\n              children: \"Nh\\xE1nh \\u0111\\u1EA5u \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c t\\u1EA1o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-green-700 mt-1\",\n              children: \"Nh\\xE1nh \\u0111\\u1EA5u gi\\u1EA3i \\u0111\\u1EA5u \\u0111\\xE3 s\\u1EB5n s\\xE0ng. B\\xE2y gi\\u1EDD b\\u1EA1n c\\xF3 th\\u1EC3 b\\u1EAFt \\u0111\\u1EA7u v\\xF2ng lo\\u1EA1i tr\\u1EF1c ti\\u1EBFp.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleStartKnockout,\n        className: \"btn-primary flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(Play, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"B\\u1EAFt \\u0111\\u1EA7u gi\\u1EA3i \\u0111\\u1EA5u lo\\u1EA1i tr\\u1EF1c ti\\u1EBFp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }, this), tournament.status === 'ONGOING' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-orange-50 border border-orange-200 rounded-lg p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(Users, {\n          className: \"h-5 w-5 text-orange-600 mt-0.5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-orange-900\",\n            children: \"Gi\\u1EA3i \\u0111\\u1EA5u \\u0111ang di\\u1EC5n ra\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-orange-700 mt-1\",\n            children: \"Gi\\u1EA3i \\u0111\\u1EA5u lo\\u1EA1i tr\\u1EF1c ti\\u1EBFp hi\\u1EC7n \\u0111ang di\\u1EC5n ra. Qu\\u1EA3n l\\xFD c\\xE1c tr\\u1EADn \\u0111\\u1EA5u t\\u1EEB tab tr\\u1EADn \\u0111\\u1EA5u.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this), tournament.status === 'COMPLETED' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 border border-gray-200 rounded-lg p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(Trophy, {\n          className: \"h-5 w-5 text-gray-600 mt-0.5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium text-gray-900\",\n            children: \"Gi\\u1EA3i \\u0111\\u1EA5u \\u0111\\xE3 ho\\xE0n th\\xE0nh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-700 mt-1\",\n            children: \"Gi\\u1EA3i \\u0111\\u1EA5u n\\xE0y \\u0111\\xE3 ho\\xE0n th\\xE0nh. Xem k\\u1EBFt qu\\u1EA3 cu\\u1ED1i c\\xF9ng v\\xE0 nh\\xE1nh \\u0111\\u1EA5u.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n};\n_s(TournamentBracketGenerator, \"3vKBMwJiqB+EX/oly2xAEvIE0uQ=\");\n_c = TournamentBracketGenerator;\nexport default TournamentBracketGenerator;\nvar _c;\n$RefreshReg$(_c, \"TournamentBracketGenerator\");","map":{"version":3,"names":["React","useState","Play","Trophy","Users","AlertCircle","tournamentKnockoutService","toast","jsxDEV","_jsxDEV","TournamentBracketGenerator","tournament","onBracketGenerated","_s","isGenerating","setIsGenerating","bracketData","setBracketData","type","randomize","handleGenerateBracket","console","log","id","currentTeams","_teamsData$data","_teamsData$data2","teamsResponse","fetch","teamsData","json","data","length","map","t","name","teamError","error","requestData","shuffleTeams","bracketType","response","generateBracket","success","_error$response","_error$response2","_error$response3","_error$response4","_error$response6","_error$response7","_error$response7$data","status","message","statusText","errorMessage","_error$response5","_error$response5$data","backendMessage","includes","duration","style","background","color","fontSize","padding","borderRadius","handleStartKnockout","startKnockout","window","location","reload","_error$response8","_error$response8$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","registeredTeams","value","onChange","e","target","checked","htmlFor","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/Pham13a07/Downloads/fe-sport/src/components/tournament/TournamentBracketGenerator.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Play, Trophy, Users, AlertCircle } from 'lucide-react';\nimport { tournamentKnockoutService } from '../../services';\nimport toast from 'react-hot-toast';\n\nconst TournamentBracketGenerator = ({ tournament, onBracketGenerated }) => {\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [bracketData, setBracketData] = useState({\n    type: 'SINGLE_ELIMINATION',\n    randomize: true\n  });\n\n  const handleGenerateBracket = async () => {\n    setIsGenerating(true);\n    try {\n      console.log('🚀 Đang tạo nhánh đấu cho giải đấu:', tournament.id);\n      console.log('📊 Dữ liệu nhánh đấu:', bracketData);\n      console.log('👥 Số đội hiện tại:', tournament.currentTeams);\n      \n      // Gỡ lỗi: Kiểm tra dữ liệu đội trước khi tạo nhánh đấu\n      try {\n        const teamsResponse = await fetch(`http://localhost:8080/api/tournaments/${tournament.id}/teams`);\n        const teamsData = await teamsResponse.json();\n        console.log('📊 Phản hồi API đội:', teamsData);\n        console.log('📊 Số lượng đội:', teamsData?.data?.length || 0);\n        console.log('📊 ID đội:', teamsData?.data?.map(t => ({ id: t.id, name: t.name })) || []);\n      } catch (teamError) {\n        console.error('⚠️ Không thể lấy dữ liệu đội để gỡ lỗi:', teamError);\n      }\n      \n      // ĐÃ SỬA: Gửi đúng định dạng yêu cầu\n      const requestData = {\n        shuffleTeams: bracketData.randomize,\n        bracketType: bracketData.type\n      };\n      \n      console.log('📤 [Tạo] Đang gửi yêu cầu:', requestData);\n      const response = await tournamentKnockoutService.generateBracket(tournament.id, requestData);\n      console.log('✅ Tạo nhánh đấu thành công:', response);\n      \n      toast.success('Nhánh đấu giải đấu đã được tạo thành công!');\n      onBracketGenerated?.(response.data);\n    } catch (error) {\n      console.error('❌ Lỗi tạo nhánh đấu:', error);\n      console.error('📋 Chi tiết lỗi:', {\n        status: error.response?.status,\n        data: error.response?.data,\n        message: error.message,\n        statusText: error.response?.statusText\n      });\n      \n      // Xử lý lỗi chi tiết hơn\n      let errorMessage = 'Không thể tạo nhánh đấu';\n      \n      if (error.response?.status === 400) {\n        const backendMessage = error.response?.data?.message;\n        if (backendMessage?.includes('Data truncated')) {\n          errorMessage = '🗃️ Lỗi cấu hình cơ sở dữ liệu. Trường trạng thái giải đấu có thể quá ngắn. Vui lòng liên hệ quản trị viên.';\n        } else if (backendMessage?.includes('not-null property references a null')) {\n          if (backendMessage.includes('team1') || backendMessage.includes('team2')) {\n            errorMessage = '👥 Lỗi dữ liệu đội. Không thể tạo trận đấu vì việc gán đội là null. Vui lòng kiểm tra xem các đội đã được đăng ký đúng cách và có ID hợp lệ hay không.';\n          } else {\n            errorMessage = `🗃️ Vi phạm ràng buộc cơ sở dữ liệu: ${backendMessage}`;\n          }\n        } else if (backendMessage?.includes('not enough teams')) {\n          errorMessage = `⚠️ Không đủ đội để tạo nhánh đấu. Cần ít nhất 2 đội, hiện tại: ${tournament.currentTeams || 0}`;\n        } else if (backendMessage) {\n          errorMessage = backendMessage;\n        } else {\n          errorMessage = 'Dữ liệu giải đấu không hợp lệ. Vui lòng kiểm tra xem giải đấu có đủ đội đã đăng ký hay không.';\n        }\n      } else if (error.response?.status === 500) {\n        errorMessage = '🔧 Lỗi máy chủ. Vui lòng kiểm tra nhật ký backend và thử lại.';\n      } else if (error.response?.data?.message) {\n        errorMessage = error.response.data.message;\n      }\n      \n      toast.error(errorMessage, {\n        duration: 6000,\n        style: {\n          background: '#EF4444',\n          color: 'white',\n          fontSize: '14px',\n          padding: '16px',\n          borderRadius: '8px'\n        }\n      });\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const handleStartKnockout = async () => {\n    try {\n      await tournamentKnockoutService.startKnockout(tournament.id);\n      toast.success('Giải đấu loại trực tiếp đã bắt đầu!');\n      window.location.reload(); // Tải lại để cập nhật trạng thái giải đấu\n    } catch (error) {\n      console.error('Lỗi khi bắt đầu loại trực tiếp:', error);\n      toast.error(error.response?.data?.message || 'Không thể bắt đầu giải đấu loại trực tiếp');\n    }\n  };\n\n  return (\n    <div className=\"card\">\n      <div className=\"flex items-center space-x-3 mb-6\">\n        <div className=\"bg-gradient-to-r from-primary-500 to-sports-purple p-3 rounded-full\">\n          <Trophy className=\"h-6 w-6 text-white\" />\n        </div>\n        <div>\n          <h3 className=\"text-xl font-semibold text-gray-900\">Nhánh đấu giải đấu</h3>\n          <p className=\"text-gray-600\">Tạo và quản lý nhánh đấu giải đấu</p>\n        </div>\n      </div>\n\n      {(tournament.status === 'REGISTRATION' || tournament.status === 'UPCOMING' || tournament.status === 'READY_TO_START') && (\n        <div className=\"space-y-4\">\n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <div className=\"flex items-start space-x-3\">\n              <AlertCircle className=\"h-5 w-5 text-blue-600 mt-0.5\" />\n              <div>\n                <h4 className=\"text-sm font-medium text-blue-900\">Sẵn sàng tạo nhánh đấu</h4>\n                <p className=\"text-sm text-blue-700 mt-1\">\n                  Giải đấu có {tournament.currentTeams || tournament.registeredTeams || 0} đội đã đăng ký. \n                  Hãy tạo nhánh đấu để thiết lập các trận đấu.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Loại nhánh đấu\n              </label>\n              <select\n                value={bracketData.type}\n                onChange={(e) => setBracketData({ ...bracketData, type: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\n              >\n                <option value=\"SINGLE_ELIMINATION\">Loại trực tiếp đơn</option>\n                <option value=\"DOUBLE_ELIMINATION\">Loại trực tiếp kép</option>\n              </select>\n            </div>\n\n            <div className=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                id=\"randomize\"\n                checked={bracketData.randomize}\n                onChange={(e) => setBracketData({ ...bracketData, randomize: e.target.checked })}\n                className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\n              />\n              <label htmlFor=\"randomize\" className=\"text-sm text-gray-700\">\n                Ngẫu nhiên vị trí đội\n              </label>\n            </div>\n\n            <div className=\"flex space-x-3\">\n              <button\n                onClick={handleGenerateBracket}\n                disabled={isGenerating || (tournament.currentTeams || 0) < 2}\n                className=\"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2\"\n              >\n                {isGenerating ? (\n                  <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                ) : (\n                  <Play className=\"h-4 w-4\" />\n                )}\n                <span>{isGenerating ? 'Đang tạo...' : 'Tạo nhánh đấu'}</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {(tournament.status === 'READY' || tournament.status === 'READY_TO_START') && (\n        <div className=\"space-y-4\">\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n            <div className=\"flex items-start space-x-3\">\n              <Trophy className=\"h-5 w-5 text-green-600 mt-0.5\" />\n              <div>\n                <h4 className=\"text-sm font-medium text-green-900\">Nhánh đấu đã được tạo</h4>\n                <p className=\"text-sm text-green-700 mt-1\">\n                  Nhánh đấu giải đấu đã sẵn sàng. Bây giờ bạn có thể bắt đầu vòng loại trực tiếp.\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <button\n            onClick={handleStartKnockout}\n            className=\"btn-primary flex items-center space-x-2\"\n          >\n            <Play className=\"h-4 w-4\" />\n            <span>Bắt đầu giải đấu loại trực tiếp</span>\n          </button>\n        </div>\n      )}\n\n      {tournament.status === 'ONGOING' && (\n        <div className=\"bg-orange-50 border border-orange-200 rounded-lg p-4\">\n          <div className=\"flex items-start space-x-3\">\n            <Users className=\"h-5 w-5 text-orange-600 mt-0.5\" />\n            <div>\n              <h4 className=\"text-sm font-medium text-orange-900\">Giải đấu đang diễn ra</h4>\n              <p className=\"text-sm text-orange-700 mt-1\">\n                Giải đấu loại trực tiếp hiện đang diễn ra. Quản lý các trận đấu từ tab trận đấu.\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {tournament.status === 'COMPLETED' && (\n        <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n          <div className=\"flex items-start space-x-3\">\n            <Trophy className=\"h-5 w-5 text-gray-600 mt-0.5\" />\n            <div>\n              <h4 className=\"text-sm font-medium text-gray-900\">Giải đấu đã hoàn thành</h4>\n              <p className=\"text-sm text-gray-700 mt-1\">\n                Giải đấu này đã hoàn thành. Xem kết quả cuối cùng và nhánh đấu.\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TournamentBracketGenerator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}