{"ast":null,"code":"import React from'react';import ReactDOM from'react-dom/client';import{BrowserRouter}from'react-router-dom';import{QueryClient,QueryClientProvider}from'react-query';import'./index.css';import App from'./App';import{AuthProvider}from'./context/AuthContext';import{initializeLocalStorage}from'./utils/localStorageManager';// ============================================\n// REBUILD DOM STRATEGY + AUTH MANAGEMENT\n// ============================================\nconsole.log('üîÑ Starting application with clean DOM and auth management...');// Initialize localStorage management FIRST\ninitializeLocalStorage();// 1. CLEAR ALL EXISTING DOM COMPLETELY\nconst clearExistingDOM=()=>{try{// Clear all existing React roots\nconst existingRoots=document.querySelectorAll('[data-reactroot]');existingRoots.forEach(root=>root.remove());// Clear any portal containers\nconst portals=document.querySelectorAll('[id*=\"portal\"], [class*=\"portal\"]');portals.forEach(portal=>portal.remove());// Clear any modal containers\nconst modals=document.querySelectorAll('[id*=\"modal\"], [class*=\"modal\"]');modals.forEach(modal=>modal.remove());// Clear any overlay containers\nconst overlays=document.querySelectorAll('[class*=\"overlay\"], [id*=\"overlay\"]');overlays.forEach(overlay=>overlay.remove());console.log('üßπ DOM cleared completely');}catch(e){console.log('üßπ DOM clear completed (with minor errors)');}};// 2. FORCE CLEAN THE ROOT ELEMENT\nconst prepareCleanRoot=()=>{const rootElement=document.getElementById('root');if(rootElement){// Clear all children\nrootElement.innerHTML='';// Remove all attributes except id\nconst attributes=Array.from(rootElement.attributes);attributes.forEach(attr=>{if(attr.name!=='id'){rootElement.removeAttribute(attr.name);}});// Reset any styles\nrootElement.style.cssText='';console.log('üéØ Root element prepared clean');}};// 3. MINIMAL ERROR SUPPRESSION (only console)\nconst originalConsoleError=console.error;console.error=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}const message=args.join(' ');if(message.includes('insertBefore')||message.includes('commitPlacement')||message.includes('NotFoundError')){console.debug('üîá DOM error suppressed:',message);return;}originalConsoleError(...args);};// 4. SIMPLE QUERY CLIENT\nconst queryClient=new QueryClient({defaultOptions:{queries:{retry:false,// Disable retry to prevent DOM conflicts\nrefetchOnWindowFocus:false,staleTime:30000},mutations:{retry:false}}});// 5. FORCE SYNCHRONOUS RENDERING\nconst forceSync=()=>{if(window.React&&window.React.version){console.log('‚ö° React version:',window.React.version);}// Force synchronous updates (disable concurrent mode)\nif(window.ReactDOM&&window.ReactDOM.createRoot){console.log('‚ö° Using createRoot (React 18)');}};// 6. EXECUTE CLEANUP\nclearExistingDOM();prepareCleanRoot();forceSync();// 7. WAIT FOR DOM TO SETTLE BEFORE RENDERING\nsetTimeout(()=>{const rootElement=document.getElementById('root');if(!rootElement){console.error('‚ùå Root element not found!');return;}console.log('üöÄ Starting React app with clean DOM...');try{// Create fresh root\nconst root=ReactDOM.createRoot(rootElement);// Render with absolute minimal structure\nroot.render(/*#__PURE__*/React.createElement(QueryClientProvider,{client:queryClient},/*#__PURE__*/React.createElement(BrowserRouter,{},/*#__PURE__*/React.createElement(AuthProvider,{},/*#__PURE__*/React.createElement(App)))));console.log('‚úÖ React app rendered successfully');}catch(error){console.error('‚ùå Failed to render React app:',error);// Fallback: try basic HTML\nrootElement.innerHTML=\"\\n      <div style=\\\"padding: 20px; text-align: center;\\\">\\n        <h1>Loading Error</h1>\\n        <p>Failed to load the application. Please refresh the page.</p>\\n        <button onclick=\\\"window.location.reload()\\\">Refresh Page</button>\\n      </div>\\n    \";}},100);// Small delay to ensure DOM is ready\nconsole.log('üîÑ DOM REBUILD strategy initialized');","map":{"version":3,"names":["React","ReactDOM","BrowserRouter","QueryClient","QueryClientProvider","App","AuthProvider","initializeLocalStorage","console","log","clearExistingDOM","existingRoots","document","querySelectorAll","forEach","root","remove","portals","portal","modals","modal","overlays","overlay","e","prepareCleanRoot","rootElement","getElementById","innerHTML","attributes","Array","from","attr","name","removeAttribute","style","cssText","originalConsoleError","error","_len","arguments","length","args","_key","message","join","includes","debug","queryClient","defaultOptions","queries","retry","refetchOnWindowFocus","staleTime","mutations","forceSync","window","version","createRoot","setTimeout","render","createElement","client"],"sources":["C:/Users/ACER/Desktop/fe/fe-edu/src/index.js"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter } from 'react-router-dom';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport './index.css';\nimport App from './App';\nimport { AuthProvider } from './context/AuthContext';\nimport { initializeLocalStorage } from './utils/localStorageManager';\n\n// ============================================\n// REBUILD DOM STRATEGY + AUTH MANAGEMENT\n// ============================================\nconsole.log('üîÑ Starting application with clean DOM and auth management...');\n\n// Initialize localStorage management FIRST\ninitializeLocalStorage();\n\n// 1. CLEAR ALL EXISTING DOM COMPLETELY\nconst clearExistingDOM = () => {\n  try {\n    // Clear all existing React roots\n    const existingRoots = document.querySelectorAll('[data-reactroot]');\n    existingRoots.forEach(root => root.remove());\n    \n    // Clear any portal containers\n    const portals = document.querySelectorAll('[id*=\"portal\"], [class*=\"portal\"]');\n    portals.forEach(portal => portal.remove());\n    \n    // Clear any modal containers\n    const modals = document.querySelectorAll('[id*=\"modal\"], [class*=\"modal\"]');\n    modals.forEach(modal => modal.remove());\n    \n    // Clear any overlay containers\n    const overlays = document.querySelectorAll('[class*=\"overlay\"], [id*=\"overlay\"]');\n    overlays.forEach(overlay => overlay.remove());\n    \n    console.log('üßπ DOM cleared completely');\n  } catch (e) {\n    console.log('üßπ DOM clear completed (with minor errors)');\n  }\n};\n\n// 2. FORCE CLEAN THE ROOT ELEMENT\nconst prepareCleanRoot = () => {\n  const rootElement = document.getElementById('root');\n  if (rootElement) {\n    // Clear all children\n    rootElement.innerHTML = '';\n    \n    // Remove all attributes except id\n    const attributes = Array.from(rootElement.attributes);\n    attributes.forEach(attr => {\n      if (attr.name !== 'id') {\n        rootElement.removeAttribute(attr.name);\n      }\n    });\n    \n    // Reset any styles\n    rootElement.style.cssText = '';\n    \n    console.log('üéØ Root element prepared clean');\n  }\n};\n\n// 3. MINIMAL ERROR SUPPRESSION (only console)\nconst originalConsoleError = console.error;\nconsole.error = (...args) => {\n  const message = args.join(' ');\n  if (message.includes('insertBefore') || \n      message.includes('commitPlacement') ||\n      message.includes('NotFoundError')) {\n    console.debug('üîá DOM error suppressed:', message);\n    return;\n  }\n  originalConsoleError(...args);\n};\n\n// 4. SIMPLE QUERY CLIENT\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      retry: false, // Disable retry to prevent DOM conflicts\n      refetchOnWindowFocus: false,\n      staleTime: 30000,\n    },\n    mutations: {\n      retry: false,\n    }\n  },\n});\n\n// 5. FORCE SYNCHRONOUS RENDERING\nconst forceSync = () => {\n  if (window.React && window.React.version) {\n    console.log('‚ö° React version:', window.React.version);\n  }\n  \n  // Force synchronous updates (disable concurrent mode)\n  if (window.ReactDOM && window.ReactDOM.createRoot) {\n    console.log('‚ö° Using createRoot (React 18)');\n  }\n};\n\n// 6. EXECUTE CLEANUP\nclearExistingDOM();\nprepareCleanRoot();\nforceSync();\n\n// 7. WAIT FOR DOM TO SETTLE BEFORE RENDERING\nsetTimeout(() => {\n  const rootElement = document.getElementById('root');\n  \n  if (!rootElement) {\n    console.error('‚ùå Root element not found!');\n    return;\n  }\n  \n  console.log('üöÄ Starting React app with clean DOM...');\n  \n  try {\n    // Create fresh root\n    const root = ReactDOM.createRoot(rootElement);\n    \n    // Render with absolute minimal structure\n    root.render(\n      React.createElement(\n        QueryClientProvider,\n        { client: queryClient },\n        React.createElement(\n          BrowserRouter,\n          {},\n          React.createElement(\n            AuthProvider,\n            {},\n            React.createElement(App)\n          )\n        )\n      )\n    );\n    \n    console.log('‚úÖ React app rendered successfully');\n    \n  } catch (error) {\n    console.error('‚ùå Failed to render React app:', error);\n    \n    // Fallback: try basic HTML\n    rootElement.innerHTML = `\n      <div style=\"padding: 20px; text-align: center;\">\n        <h1>Loading Error</h1>\n        <p>Failed to load the application. Please refresh the page.</p>\n        <button onclick=\"window.location.reload()\">Refresh Page</button>\n      </div>\n    `;\n  }\n  \n}, 100); // Small delay to ensure DOM is ready\n\nconsole.log('üîÑ DOM REBUILD strategy initialized');"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,OAASC,aAAa,KAAQ,kBAAkB,CAChD,OAASC,WAAW,CAAEC,mBAAmB,KAAQ,aAAa,CAC9D,MAAO,aAAa,CACpB,MAAO,CAAAC,GAAG,KAAM,OAAO,CACvB,OAASC,YAAY,KAAQ,uBAAuB,CACpD,OAASC,sBAAsB,KAAQ,6BAA6B,CAEpE;AACA;AACA;AACAC,OAAO,CAACC,GAAG,CAAC,+DAA+D,CAAC,CAE5E;AACAF,sBAAsB,CAAC,CAAC,CAExB;AACA,KAAM,CAAAG,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,GAAI,CACF;AACA,KAAM,CAAAC,aAAa,CAAGC,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,CAAC,CACnEF,aAAa,CAACG,OAAO,CAACC,IAAI,EAAIA,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAE5C;AACA,KAAM,CAAAC,OAAO,CAAGL,QAAQ,CAACC,gBAAgB,CAAC,mCAAmC,CAAC,CAC9EI,OAAO,CAACH,OAAO,CAACI,MAAM,EAAIA,MAAM,CAACF,MAAM,CAAC,CAAC,CAAC,CAE1C;AACA,KAAM,CAAAG,MAAM,CAAGP,QAAQ,CAACC,gBAAgB,CAAC,iCAAiC,CAAC,CAC3EM,MAAM,CAACL,OAAO,CAACM,KAAK,EAAIA,KAAK,CAACJ,MAAM,CAAC,CAAC,CAAC,CAEvC;AACA,KAAM,CAAAK,QAAQ,CAAGT,QAAQ,CAACC,gBAAgB,CAAC,qCAAqC,CAAC,CACjFQ,QAAQ,CAACP,OAAO,CAACQ,OAAO,EAAIA,OAAO,CAACN,MAAM,CAAC,CAAC,CAAC,CAE7CR,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC,CAC1C,CAAE,MAAOc,CAAC,CAAE,CACVf,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAC,CAC3D,CACF,CAAC,CAED;AACA,KAAM,CAAAe,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAC,WAAW,CAAGb,QAAQ,CAACc,cAAc,CAAC,MAAM,CAAC,CACnD,GAAID,WAAW,CAAE,CACf;AACAA,WAAW,CAACE,SAAS,CAAG,EAAE,CAE1B;AACA,KAAM,CAAAC,UAAU,CAAGC,KAAK,CAACC,IAAI,CAACL,WAAW,CAACG,UAAU,CAAC,CACrDA,UAAU,CAACd,OAAO,CAACiB,IAAI,EAAI,CACzB,GAAIA,IAAI,CAACC,IAAI,GAAK,IAAI,CAAE,CACtBP,WAAW,CAACQ,eAAe,CAACF,IAAI,CAACC,IAAI,CAAC,CACxC,CACF,CAAC,CAAC,CAEF;AACAP,WAAW,CAACS,KAAK,CAACC,OAAO,CAAG,EAAE,CAE9B3B,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC,CAC/C,CACF,CAAC,CAED;AACA,KAAM,CAAA2B,oBAAoB,CAAG5B,OAAO,CAAC6B,KAAK,CAC1C7B,OAAO,CAAC6B,KAAK,CAAG,UAAa,SAAAC,IAAA,CAAAC,SAAA,CAAAC,MAAA,CAATC,IAAI,KAAAZ,KAAA,CAAAS,IAAA,EAAAI,IAAA,GAAAA,IAAA,CAAAJ,IAAA,CAAAI,IAAA,IAAJD,IAAI,CAAAC,IAAA,EAAAH,SAAA,CAAAG,IAAA,GACtB,KAAM,CAAAC,OAAO,CAAGF,IAAI,CAACG,IAAI,CAAC,GAAG,CAAC,CAC9B,GAAID,OAAO,CAACE,QAAQ,CAAC,cAAc,CAAC,EAChCF,OAAO,CAACE,QAAQ,CAAC,iBAAiB,CAAC,EACnCF,OAAO,CAACE,QAAQ,CAAC,eAAe,CAAC,CAAE,CACrCrC,OAAO,CAACsC,KAAK,CAAC,0BAA0B,CAAEH,OAAO,CAAC,CAClD,OACF,CACAP,oBAAoB,CAAC,GAAGK,IAAI,CAAC,CAC/B,CAAC,CAED;AACA,KAAM,CAAAM,WAAW,CAAG,GAAI,CAAA5C,WAAW,CAAC,CAClC6C,cAAc,CAAE,CACdC,OAAO,CAAE,CACPC,KAAK,CAAE,KAAK,CAAE;AACdC,oBAAoB,CAAE,KAAK,CAC3BC,SAAS,CAAE,KACb,CAAC,CACDC,SAAS,CAAE,CACTH,KAAK,CAAE,KACT,CACF,CACF,CAAC,CAAC,CAEF;AACA,KAAM,CAAAI,SAAS,CAAGA,CAAA,GAAM,CACtB,GAAIC,MAAM,CAACvD,KAAK,EAAIuD,MAAM,CAACvD,KAAK,CAACwD,OAAO,CAAE,CACxChD,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAE8C,MAAM,CAACvD,KAAK,CAACwD,OAAO,CAAC,CACvD,CAEA;AACA,GAAID,MAAM,CAACtD,QAAQ,EAAIsD,MAAM,CAACtD,QAAQ,CAACwD,UAAU,CAAE,CACjDjD,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC,CAC9C,CACF,CAAC,CAED;AACAC,gBAAgB,CAAC,CAAC,CAClBc,gBAAgB,CAAC,CAAC,CAClB8B,SAAS,CAAC,CAAC,CAEX;AACAI,UAAU,CAAC,IAAM,CACf,KAAM,CAAAjC,WAAW,CAAGb,QAAQ,CAACc,cAAc,CAAC,MAAM,CAAC,CAEnD,GAAI,CAACD,WAAW,CAAE,CAChBjB,OAAO,CAAC6B,KAAK,CAAC,2BAA2B,CAAC,CAC1C,OACF,CAEA7B,OAAO,CAACC,GAAG,CAAC,yCAAyC,CAAC,CAEtD,GAAI,CACF;AACA,KAAM,CAAAM,IAAI,CAAGd,QAAQ,CAACwD,UAAU,CAAChC,WAAW,CAAC,CAE7C;AACAV,IAAI,CAAC4C,MAAM,cACT3D,KAAK,CAAC4D,aAAa,CACjBxD,mBAAmB,CACnB,CAAEyD,MAAM,CAAEd,WAAY,CAAC,cACvB/C,KAAK,CAAC4D,aAAa,CACjB1D,aAAa,CACb,CAAC,CAAC,cACFF,KAAK,CAAC4D,aAAa,CACjBtD,YAAY,CACZ,CAAC,CAAC,cACFN,KAAK,CAAC4D,aAAa,CAACvD,GAAG,CACzB,CACF,CACF,CACF,CAAC,CAEDG,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC,CAElD,CAAE,MAAO4B,KAAK,CAAE,CACd7B,OAAO,CAAC6B,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CAErD;AACAZ,WAAW,CAACE,SAAS,sQAMpB,CACH,CAEF,CAAC,CAAE,GAAG,CAAC,CAAE;AAETnB,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}