{"ast":null,"code":"import React,{useState}from'react';import{useParams,Link}from'react-router-dom';import{useQuery}from'react-query';import{ArrowLeft,Calendar,User,Share2,Heart,Eye,Upload,Edit}from'lucide-react';import{newsService}from'../services';import{useAuth}from'../context/AuthContext';import LoadingSpinner from'../components/LoadingSpinner';import NewsFileUpload from'../components/news/NewsFileUpload';import{formatDate}from'../utils/helpers';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NewsDetailPage=()=>{var _article$attachments;const{id}=useParams();const{user}=useAuth();const[showFileUpload,setShowFileUpload]=useState(false);const[attachments,setAttachments]=useState([]);const isAdmin=(user===null||user===void 0?void 0:user.role)==='ADMIN'||(user===null||user===void 0?void 0:user.role)==='ORGANIZER';const{data:article,isLoading,error,refetch}=useQuery(['news',id],()=>newsService.getNewsById(id),{staleTime:5*60*1000,enabled:!!id});const{data:relatedNews}=useQuery('related-news',()=>newsService.getAllNews(),{staleTime:5*60*1000,select:data=>data.filter(news=>news.id!==parseInt(id)).slice(0,3)});const handleUploadComplete=uploadedFiles=>{setAttachments(prev=>[...prev,...uploadedFiles]);setShowFileUpload(false);refetch();// Refresh article data\n};if(isLoading){return/*#__PURE__*/_jsx(LoadingSpinner,{});}if(error||!article){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:\"Article not found\"}),/*#__PURE__*/_jsx(Link,{to:\"/news\",className:\"text-primary-600 hover:text-primary-700\",children:\"\\u2190 Back to news\"})]})});}const handleShare=async()=>{if(navigator.share){try{await navigator.share({title:article.title,text:article.content.substring(0,100),url:window.location.href});}catch(error){console.log('Error sharing:',error);}}else{// Fallback to copying URL to clipboard\nnavigator.clipboard.writeText(window.location.href);// You could show a toast notification here\n}};const handleViewImage=async imageName=>{try{const imageBlob=await newsService.getImage(imageName);const imageUrl=URL.createObjectURL(imageBlob);window.open(imageUrl,'_blank');}catch(error){console.error('Error loading image:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/news\",className:\"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-5 w-5 mr-1\"}),\"Back to News\"]}),isAdmin&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFileUpload(!showFileUpload),className:\"flex items-center space-x-2 text-gray-600 hover:text-primary-600 transition-colors\",children:[/*#__PURE__*/_jsx(Upload,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Manage Files\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/admin/news/\".concat(id,\"/edit\"),className:\"flex items-center space-x-2 text-gray-600 hover:text-primary-600 transition-colors\",children:[/*#__PURE__*/_jsx(Edit,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Edit\"})]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[showFileUpload&&isAdmin&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-8\",children:/*#__PURE__*/_jsx(NewsFileUpload,{newsId:id,onUploadComplete:handleUploadComplete})}),/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white rounded-xl shadow-sm overflow-hidden mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-primary-500 to-sports-purple h-64 md:h-80 flex items-center justify-center\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-24 w-24 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500 mb-4\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:formatDate(article.createdAt)}),/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 ml-6 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:article.author||'EduSports Team'}),/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4 ml-6 mr-2\"}),/*#__PURE__*/_jsxs(\"span\",{children:[article.views||0,\" views\"]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-4xl font-bold text-gray-900 mb-6 leading-tight\",children:article.title}),/*#__PURE__*/_jsx(\"div\",{className:\"prose prose-lg max-w-none\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-700 leading-relaxed whitespace-pre-wrap\",children:article.content})}),(((_article$attachments=article.attachments)===null||_article$attachments===void 0?void 0:_article$attachments.length)>0||attachments.length>0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 pt-6 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"Attachments\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:[...(article.attachments||[]),...attachments].map((attachment,index)=>{var _attachment$type;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:(_attachment$type=attachment.type)!==null&&_attachment$type!==void 0&&_attachment$type.startsWith('image/')?/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewImage(attachment.fileName),className:\"text-blue-600 hover:text-blue-800\",children:/*#__PURE__*/_jsx(Eye,{className:\"h-5 w-5\"})}):/*#__PURE__*/_jsx(Upload,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 truncate\",children:attachment.fileName||attachment.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:attachment.size?\"\".concat(Math.round(attachment.size/1024),\" KB\"):''})]})]})},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 pt-6 border-t border-gray-200 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors\",children:[/*#__PURE__*/_jsx(Heart,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Like\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleShare,className:\"flex items-center space-x-2 text-gray-600 hover:text-primary-600 transition-colors\",children:[/*#__PURE__*/_jsx(Share2,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Share\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Published \",formatDate(article.createdAt),article.updatedAt&&article.updatedAt!==article.createdAt&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2\",children:[\"\\u2022 Updated \",formatDate(article.updatedAt)]})]})]})]})]}),relatedNews&&relatedNews.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-sm p-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Related Articles\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:relatedNews.map(relatedArticle=>/*#__PURE__*/_jsxs(Link,{to:\"/news/\".concat(relatedArticle.id),className:\"group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-sports-green to-sports-pink h-32 rounded-lg mb-3 flex items-center justify-center group-hover:opacity-80 transition-opacity\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-8 w-8 text-white\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors line-clamp-2 mb-2\",children:relatedArticle.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 line-clamp-2\",children:[relatedArticle.content.substring(0,100),\"...\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-xs text-gray-400\",children:formatDate(relatedArticle.createdAt)})]},relatedArticle.id))})]})]})]});};export default NewsDetailPage;","map":{"version":3,"names":["React","useState","useParams","Link","useQuery","ArrowLeft","Calendar","User","Share2","Heart","Eye","Upload","Edit","newsService","useAuth","LoadingSpinner","NewsFileUpload","formatDate","jsx","_jsx","jsxs","_jsxs","NewsDetailPage","_article$attachments","id","user","showFileUpload","setShowFileUpload","attachments","setAttachments","isAdmin","role","data","article","isLoading","error","refetch","getNewsById","staleTime","enabled","relatedNews","getAllNews","select","filter","news","parseInt","slice","handleUploadComplete","uploadedFiles","prev","className","children","to","handleShare","navigator","share","title","text","content","substring","url","window","location","href","console","log","clipboard","writeText","handleViewImage","imageName","imageBlob","getImage","imageUrl","URL","createObjectURL","open","onClick","concat","newsId","onUploadComplete","createdAt","author","views","length","map","attachment","index","_attachment$type","type","startsWith","fileName","name","size","Math","round","updatedAt","relatedArticle"],"sources":["C:/Users/ACER/Desktop/fe/fe-edu/src/pages/NewsDetailPage.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { useQuery } from 'react-query';\r\nimport { ArrowLeft, Calendar, User, Share2, Heart, Eye, Upload, Edit } from 'lucide-react';\r\nimport { newsService } from '../services';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport NewsFileUpload from '../components/news/NewsFileUpload';\r\nimport { formatDate } from '../utils/helpers';\r\n\r\nconst NewsDetailPage = () => {\r\n  const { id } = useParams();\r\n  const { user } = useAuth();\r\n  const [showFileUpload, setShowFileUpload] = useState(false);\r\n  const [attachments, setAttachments] = useState([]);\r\n\r\n  const isAdmin = user?.role === 'ADMIN' || user?.role === 'ORGANIZER';\r\n\r\n  const { data: article, isLoading, error, refetch } = useQuery(\r\n    ['news', id],\r\n    () => newsService.getNewsById(id),\r\n    { \r\n      staleTime: 5 * 60 * 1000,\r\n      enabled: !!id \r\n    }\r\n  );\r\n\r\n  const { data: relatedNews } = useQuery(\r\n    'related-news',\r\n    () => newsService.getAllNews(),\r\n    { \r\n      staleTime: 5 * 60 * 1000,\r\n      select: (data) => data.filter(news => news.id !== parseInt(id)).slice(0, 3)\r\n    }\r\n  );\r\n\r\n  const handleUploadComplete = (uploadedFiles) => {\r\n    setAttachments(prev => [...prev, ...uploadedFiles]);\r\n    setShowFileUpload(false);\r\n    refetch(); // Refresh article data\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  if (error || !article) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Article not found</h2>\r\n          <Link to=\"/news\" className=\"text-primary-600 hover:text-primary-700\">\r\n            ← Back to news\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const handleShare = async () => {\r\n    if (navigator.share) {\r\n      try {\r\n        await navigator.share({\r\n          title: article.title,\r\n          text: article.content.substring(0, 100),\r\n          url: window.location.href,\r\n        });\r\n      } catch (error) {\r\n        console.log('Error sharing:', error);\r\n      }\r\n    } else {\r\n      // Fallback to copying URL to clipboard\r\n      navigator.clipboard.writeText(window.location.href);\r\n      // You could show a toast notification here\r\n    }\r\n  };\r\n\r\n  const handleViewImage = async (imageName) => {\r\n    try {\r\n      const imageBlob = await newsService.getImage(imageName);\r\n      const imageUrl = URL.createObjectURL(imageBlob);\r\n      window.open(imageUrl, '_blank');\r\n    } catch (error) {\r\n      console.error('Error loading image:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow-sm\">\r\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <Link \r\n              to=\"/news\"\r\n              className=\"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors\"\r\n            >\r\n              <ArrowLeft className=\"h-5 w-5 mr-1\" />\r\n              Back to News\r\n            </Link>\r\n            \r\n            {isAdmin && (\r\n              <div className=\"flex items-center space-x-3\">\r\n                <button\r\n                  onClick={() => setShowFileUpload(!showFileUpload)}\r\n                  className=\"flex items-center space-x-2 text-gray-600 hover:text-primary-600 transition-colors\"\r\n                >\r\n                  <Upload className=\"h-4 w-4\" />\r\n                  <span>Manage Files</span>\r\n                </button>\r\n                <Link\r\n                  to={`/admin/news/${id}/edit`}\r\n                  className=\"flex items-center space-x-2 text-gray-600 hover:text-primary-600 transition-colors\"\r\n                >\r\n                  <Edit className=\"h-4 w-4\" />\r\n                  <span>Edit</span>\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* File Upload Section */}\r\n        {showFileUpload && isAdmin && (\r\n          <div className=\"mb-8\">\r\n            <NewsFileUpload \r\n              newsId={id} \r\n              onUploadComplete={handleUploadComplete}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* Article */}\r\n        <article className=\"bg-white rounded-xl shadow-sm overflow-hidden mb-8\">\r\n          {/* Featured Image */}\r\n          <div className=\"bg-gradient-to-r from-primary-500 to-sports-purple h-64 md:h-80 flex items-center justify-center\">\r\n            <Calendar className=\"h-24 w-24 text-white\" />\r\n          </div>\r\n\r\n          <div className=\"p-8\">\r\n            {/* Article Meta */}\r\n            <div className=\"flex items-center text-sm text-gray-500 mb-4\">\r\n              <Calendar className=\"h-4 w-4 mr-2\" />\r\n              <span>{formatDate(article.createdAt)}</span>\r\n              <User className=\"h-4 w-4 ml-6 mr-2\" />\r\n              <span>{article.author || 'EduSports Team'}</span>\r\n              <Eye className=\"h-4 w-4 ml-6 mr-2\" />\r\n              <span>{article.views || 0} views</span>\r\n            </div>\r\n\r\n            {/* Title */}\r\n            <h1 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-6 leading-tight\">\r\n              {article.title}\r\n            </h1>\r\n\r\n            {/* Article Content */}\r\n            <div className=\"prose prose-lg max-w-none\">\r\n              <div className=\"text-gray-700 leading-relaxed whitespace-pre-wrap\">\r\n                {article.content}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Attachments */}\r\n            {(article.attachments?.length > 0 || attachments.length > 0) && (\r\n              <div className=\"mt-8 pt-6 border-t border-gray-200\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Attachments</h3>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                  {[...(article.attachments || []), ...attachments].map((attachment, index) => (\r\n                    <div key={index} className=\"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors\">\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <div className=\"flex-shrink-0\">\r\n                          {attachment.type?.startsWith('image/') ? (\r\n                            <button\r\n                              onClick={() => handleViewImage(attachment.fileName)}\r\n                              className=\"text-blue-600 hover:text-blue-800\"\r\n                            >\r\n                              <Eye className=\"h-5 w-5\" />\r\n                            </button>\r\n                          ) : (\r\n                            <Upload className=\"h-5 w-5 text-gray-400\" />\r\n                          )}\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n                            {attachment.fileName || attachment.name}\r\n                          </p>\r\n                          <p className=\"text-xs text-gray-500\">\r\n                            {attachment.size ? `${Math.round(attachment.size / 1024)} KB` : ''}\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Article Actions */}\r\n            <div className=\"mt-8 pt-6 border-t border-gray-200 flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-4\">\r\n                <button className=\"flex items-center space-x-2 text-gray-600 hover:text-red-600 transition-colors\">\r\n                  <Heart className=\"h-5 w-5\" />\r\n                  <span>Like</span>\r\n                </button>\r\n                <button \r\n                  onClick={handleShare}\r\n                  className=\"flex items-center space-x-2 text-gray-600 hover:text-primary-600 transition-colors\"\r\n                >\r\n                  <Share2 className=\"h-5 w-5\" />\r\n                  <span>Share</span>\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"text-sm text-gray-500\">\r\n                Published {formatDate(article.createdAt)}\r\n                {article.updatedAt && article.updatedAt !== article.createdAt && (\r\n                  <span className=\"ml-2\">\r\n                    • Updated {formatDate(article.updatedAt)}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </article>\r\n\r\n        {/* Related Articles */}\r\n        {relatedNews && relatedNews.length > 0 && (\r\n          <div className=\"bg-white rounded-xl shadow-sm p-8\">\r\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Related Articles</h2>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n              {relatedNews.map((relatedArticle) => (\r\n                <Link\r\n                  key={relatedArticle.id}\r\n                  to={`/news/${relatedArticle.id}`}\r\n                  className=\"group\"\r\n                >\r\n                  <div className=\"bg-gradient-to-r from-sports-green to-sports-pink h-32 rounded-lg mb-3 flex items-center justify-center group-hover:opacity-80 transition-opacity\">\r\n                    <Calendar className=\"h-8 w-8 text-white\" />\r\n                  </div>\r\n                  <h3 className=\"font-semibold text-gray-900 group-hover:text-primary-600 transition-colors line-clamp-2 mb-2\">\r\n                    {relatedArticle.title}\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-500 line-clamp-2\">\r\n                    {relatedArticle.content.substring(0, 100)}...\r\n                  </p>\r\n                  <div className=\"mt-2 text-xs text-gray-400\">\r\n                    {formatDate(relatedArticle.createdAt)}\r\n                  </div>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewsDetailPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}