# News API Debug Guide

## ğŸ” Váº¥n Ä‘á» Ä‘Ã£ phÃ¡t hiá»‡n vÃ  cÃ¡ch kháº¯c phá»¥c

### 1. **Lá»—i trang News khÃ´ng hiá»ƒn thá»‹ tin tá»©c**

**NguyÃªn nhÃ¢n:** Mismatch giá»¯a field name trong API response vÃ  code frontend.

**ÄÃ£ sá»­a:**
- âœ… Cáº­p nháº­t `NewsPage.js` Ä‘á»ƒ sá»­ dá»¥ng field `name` thay vÃ¬ `title`
- âœ… ThÃªm fallback cho `article.name || article.title`
- âœ… Cáº£i thiá»‡n error handling vÃ  loading states

### 2. **Lá»—i trang Admin khÃ´ng thá»ƒ edit/update tin tá»©c**

**NguyÃªn nhÃ¢n:** Thiáº¿u chá»©c nÄƒng edit trong NewsManagement component.

**ÄÃ£ sá»­a:**
- âœ… ThÃªm modal edit tin tá»©c
- âœ… ThÃªm mutation cho update news
- âœ… ThÃªm button edit vá»›i chá»©c nÄƒng Ä‘áº§y Ä‘á»§
- âœ… Há»— trá»£ upload áº£nh má»›i khi edit

### 3. **CÃ¡c file Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t:**

```
ğŸ“ Files Updated:
â”œâ”€â”€ src/pages/NewsPage.js (Fixed field mapping)
â”œâ”€â”€ src/components/admin/NewsManagement.js (Added edit functionality)
â”œâ”€â”€ src/pages/AdminPanel.js (Added debug tab)
â”œâ”€â”€ src/components/debug/NewsDebugPanel.js (New debug tool)
â”œâ”€â”€ src/utils/newsAPIDebugger.js (New debug utility)
â””â”€â”€ src/utils/newsAPITest.js (New test utility)
```

## ğŸ› ï¸ CÃ¡ch debug vÃ  kiá»ƒm tra

### Method 1: Sá»­ dá»¥ng Debug Panel (Khuyáº¿n nghá»‹)

1. ÄÄƒng nháº­p vá»›i tÃ i khoáº£n admin
2. VÃ o trang `/admin` 
3. Click vÃ o tab "News Debug" (mÃ u Ä‘á» vá»›i icon Bug)
4. Click "Cháº¡y táº¥t cáº£ tests"
5. Xem káº¿t quáº£ vÃ  logs Ä‘á»ƒ xÃ¡c Ä‘á»‹nh váº¥n Ä‘á»

### Method 2: Sá»­ dá»¥ng Browser Console

1. Má»Ÿ Developer Tools (F12)
2. VÃ o tab Console
3. Cháº¡y cÃ¡c lá»‡nh sau:

```javascript
// Test cÆ¡ báº£n
window.newsAPITests.testNewsAPI()

// Test táº¡o vÃ  xÃ³a tin tá»©c
window.newsAPITests.testCreateNews()

// Cháº¡y táº¥t cáº£ tests an toÃ n
window.newsAPITests.runSafeTests()
```

### Method 3: Kiá»ƒm tra API trá»±c tiáº¿p

```javascript
// Import newsService vÃ  test
import newsService from './src/services/newsService';

// Test getAllNews
newsService.getAllNews().then(console.log).catch(console.error);
```

## ğŸ”§ Troubleshooting Common Issues

### Backend khÃ´ng hoáº¡t Ä‘á»™ng
```
âŒ Error: Failed to fetch
ğŸ’¡ Solution: 
   - Kiá»ƒm tra backend server Ä‘ang cháº¡y
   - XÃ¡c nháº­n URL trong .env.local
   - Kiá»ƒm tra port 8080
```

### CORS Error
```
âŒ Error: CORS policy blocked
ğŸ’¡ Solution:
   - Cáº¥u hÃ¬nh CORS trÃªn backend
   - Cho phÃ©p origin tá»« frontend
```

### Authentication Error
```
âŒ Error: 401 Unauthorized  
ğŸ’¡ Solution:
   - ÄÄƒng nháº­p láº¡i
   - Kiá»ƒm tra token trong localStorage
   - XÃ¡c nháº­n user role
```

### Data Structure Error
```
âŒ Error: Cannot read property 'map' of undefined
ğŸ’¡ Solution:
   - API tráº£ vá» object thay vÃ¬ array
   - Cáº§n update newsService Ä‘á»ƒ handle response structure
```

## ğŸ“‹ Checklist Debug

- [ ] Backend server Ä‘ang cháº¡y (port 8080)
- [ ] .env.local cÃ³ Ä‘Ãºng REACT_APP_API_URL
- [ ] User Ä‘Ã£ Ä‘Äƒng nháº­p vá»›i role ADMIN
- [ ] API endpoint `/api/v1/news` hoáº¡t Ä‘á»™ng
- [ ] Response tá»« API cÃ³ Ä‘Ãºng structure
- [ ] Frontend components import Ä‘Ãºng
- [ ] Browser cache Ä‘Ã£ Ä‘Æ°á»£c clear

## ğŸš€ Quick Start Testing

1. **Khá»Ÿi Ä‘á»™ng backend server**
2. **ÄÄƒng nháº­p vá»›i tÃ i khoáº£n admin**
3. **VÃ o `/admin` vÃ  click tab "News Debug"**
4. **Click "Cháº¡y táº¥t cáº£ tests"**
5. **Kiá»ƒm tra káº¿t quáº£:**
   - âœ… All green = Hoáº¡t Ä‘á»™ng tá»‘t
   - âŒ Any red = CÃ³ váº¥n Ä‘á» cáº§n kháº¯c phá»¥c

## ğŸ“ Support

Náº¿u váº«n gáº·p váº¥n Ä‘á»:
1. Chá»¥p screenshot cá»§a Debug Panel results
2. Copy console logs 
3. Kiá»ƒm tra Network tab trong Developer Tools
4. XÃ¡c nháº­n backend logs

---

**LÆ°u Ã½:** Táº¥t cáº£ cÃ¡c debug tools Ä‘Ã£ Ä‘Æ°á»£c tÃ­ch há»£p vÃ o UI Ä‘á»ƒ dá»… sá»­ dá»¥ng. KhÃ´ng cáº§n cháº¡y command line hay setup phá»©c táº¡p.